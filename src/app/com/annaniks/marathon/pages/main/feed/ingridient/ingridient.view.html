<div class="chicken-content">
    <spinner-loading *ngIf="loading"></spinner-loading>
    <div class="chicken-header">
        <img src="assets/images/food.png" class="chicken-image"
            *ngIf="!receipt?.imageSlider.length && receipt?.videoLink ===''">
        <ngx-slick-carousel *ngIf="receipt?.imageSlider" class="carousel w-100 chicken-image"
            #slickModal="slick-carousel" [config]="slideConfig">
            <div ngxSlickItem *ngFor="let slide of receipt?.imageSlider" class="slide">
                <img [src]="slide.img" alt="" width="100%" class="chicken-image">
            </div>
        </ngx-slick-carousel>
        <div *ngIf="receipt?.videoLink !=''">
            <plyr plyrTitle="Video 1" [plyrSources]="receptvideoSources"></plyr>
        </div>
        <button class="radius d-flex" (click)="onClickGotoBack()">
            <span class="material-icons m-auto icon">
                keyboard_arrow_left
            </span>
        </button>
        <div class="header-container d-flex justify-content-between">
            <div class="d-flex align-items-center">
                <span class="material-icons star-icon">
                    grade
                </span>
                <p class="title ml-2">4.9 120 rates</p>
            </div>
            <span class="material-icons icon">
                more_vert
            </span>

        </div>
        <div class="main-container">
            <p class="title">{{receipt?.title}}.</p>
            <div class="d-flex align-items-center mt-3">
                <div class="d-flex text-align-centre">
                    <p class="name mr-2">by </p>
                    <p class="name mb-0" *ngIf="role==='client'">
                        {{feedItem?.creator_client_info?.user?.first_name}}</p>
                    <p class="name mb-0" *ngIf="role==='coach'">{{feedItem?.creator_info?.user?.first_name}}</p>
                    <p class="name mb-0" *ngIf="!role && feedItem?.creator_info">
                        {{feedItem?.creator_info?.user?.first_name}}</p>
                    <p class="name mb-0" *ngIf="!role && feedItem?.creator_client_info">
                        {{feedItem?.creator_client_info?.user?.first_name}}</p>
                </div>
                <p class="date ml-2">{{time}}</p>
                <button (click)="follow()" [class.active-btn]="user?.is_follower" type="button" class="btn-item info-btn ml-2">{{user?.is_follower?'Unfollow':'Follow'}}</button>
            </div>
            <div>
                <div class="loader-container">
                    <div class="d-flex justify-content-between">
                        <div class="loader-item">
                            <p class="circle-text">Calories</p>
                            <div class="loader d-flex">
                                <p class="m-auto">{{receipt?.calories}}</p>
                            </div>
                            <p class="circle-text">kcal</p>
                        </div>
                        <div class="loader-item">
                            <p class="circle-text">Carbs</p>
                            <div class="loader d-flex">
                                <p class="m-auto">{{receipt?.carbs}}</p>
                            </div>
                            <p class="circle-text">gm</p>

                        </div>

                        <div class="loader-item">
                            <p class="circle-text">Protein</p>
                            <div class="loader d-flex ">
                                <p class="m-auto">{{receipt?.protein}}</p>
                            </div>
                            <p class="circle-text">gm</p>
                        </div>
                        <div class="loader-item">
                            <p class="circle-text">Fat</p>
                            <div class="loader d-flex ">
                                <p class="m-auto">{{receipt?.fat}}</p>
                            </div>
                            <p class="circle-text">gm</p>
                        </div>
                    </div>
                    <div class="btn-content d-flex">
                        <button type="button" class="button-item ml-0">{{receipt?.time}} min</button>
                        <button type="button" class="button-item ml-0"
                            *ngFor="let item of receipt?.tag">{{item}}</button>

                    </div>
                </div>
                <p class="title">{{receipt?.information}}</p>

            </div>
            <div class="ingridient-content">
                <p class="title">Ingredients</p>
                <div class="ingridient" *ngFor="let item of receipt?.ingridient">
                    <div class="ingridient-item d-flex" *ngIf="item">
                        <p class="ingridient-title">{{item?.name}}</p>


                    </div>
                    <p class="ingridient-value">{{item?.value}} gm</p>
                </div>
            </div>
            <div class="instruction-content">

                <p class="title">Instructions</p>
                <div *ngFor="let item of receipt?.preparationSteps;let ind=index">
                    <div class="instruction-item d-flex" *ngIf="item">
                        <p class="number">{{ind+1}}</p>

                        <p class="instruction-item-text w-100">{{item}}</p>
                    </div>
                </div>
            </div>

            <app-settings [feed]="feedItem" [role]="role" (getButtonsType)="getButtonsType($event)"
                (openChanges)='onClickOpen($event)'></app-settings>
            <div class="posts-comments" *ngIf="isOpen">
                <app-comments (sendMessage)="sendMessage($event)" (likeOrDislike)="likeOrDislike($event)"
                    *ngFor="let item of comments" [feed]="feedItem" [comments]="item" [role]="role">
                </app-comments>
                <app-posts-comments [feed]="feedItem" (sendMessage)="sendMessage($event)" *ngIf="role"
                    [comments]="comments">
                </app-posts-comments>
            </div>

        </div>
    </div>
</div>